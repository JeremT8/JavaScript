<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX et JSON</title>
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <style>
        * {
            text-align: center;
        }
        table {
            width: 800px !important;
            margin: 20px auto;
            border: 1px solid black;
            box-shadow: 3px 2px 2px black;
        }
        
        caption {
            text-align: center !important;
            font-size: 2em;
            text-transform: uppercase;
            color: black;
            font-weight: 900;
        }
        caption:hover {
            color: orange;
        }
    </style>
</head>

<body>
    <table class="table table-striped">
        <caption class="caption-top"></caption>
        <thead>
            <tr>
                <th>Id</th>
                <th>Nom</th>
                <th>Pr√©nom</th>
                <th>Code Postal</th>
                <th>Ville</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <script>
        fetch('js/contacts.json')
            .then((response) => {
                if (response.ok) return response.json();
                return Promise.reject(new Error(response.status + ' : ' + response.statusText))
            })
            .then((json) => {
                // console.log(data);
                document.querySelector('table caption').textContent = json.title;
                let tbody = document.querySelector('table tbody');
                json.data.forEach(element => {
                    let tr = document.createElement('tr');
                    let td = document.createElement('td');
                    td.textContent = element.identifiant;
                    tr.appendChild(td);
                    td = document.createElement('td');
                    td.textContent = element.nom;
                    tr.appendChild(td);
                    td = document.createElement('td');
                    td.textContent = element.prenom;
                    tr.appendChild(td);
                    td = document.createElement('td');
                    td.textContent = element.codepostal;
                    tr.appendChild(td);
                    td = document.createElement('td');
                    td.textContent = element.ville;
                    tr.appendChild(td);
                    tbody.appendChild(tr)

                });
            })
            .catch((error) => {
                console.log(error);
            })
    </script>
    <script src="/node_modules/bootstrap/dist/css/bootstrap.min.css"></script>
</body>

</html>